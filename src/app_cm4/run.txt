/opt/ModusToolbox/tools_3.0/gcc/bin/arm-none-eabi-g++ main.o startup_psoc6_02_cm4.o -mcpu=cortex-m4 --specs=nano.specs -mfloat-abi=softfp -mfpu=fpv4-sp-d16 -mthumb -ffunction-sections -fdata-sections -ffat-lto-objects -g -Wall -Wl,--gc-sections -T/home/sgupta/amcutst/amcu/mtb_shared/infn-patch/cy8c6xxa_cm4_dualA.ld -Wl,-Map,amcuapp.map -Wl,--start-group /home/sgupta/amcutst/amcu/mtb_shared/capsense/release-v3.0.1/COMPONENT_SOFTFP/TOOLCHAIN_GCC_ARM/libcy_capsense.a -Wl,--end-group -L.-lcycfg -lcycfg_capsense -lcycfg_clocks -lcycfg_connectivity_bt -lcycfg_peripherals -lcycfg_pins -lcycfg_routing -lcycfg_system -lsystem_psoc6_cm4 -lcybsp_bt_config -lcybsp -lversion -lcy_capsense_centroid -lcy_capsense_control -lcy_capsense_csd_v2 -lcy_capsense_csx_v2 -lcy_capsense_filter -lcy_capsense_generator_v3 -lcy_capsense_processing -lcy_capsense_selftest -lcy_capsense_selftest_v2 -lcy_capsense_selftest_v3 -lcy_capsense_sensing -lcy_capsense_sensing_v2 -lcy_capsense_sensing_v3 -lcy_capsense_structure -lcy_capsense_tuner -lcyhal_psoc6_01_104_m_csp_ble -lcyhal_psoc6_01_104_m_csp_ble_usb -lcyhal_psoc6_01_116_bga_ble -lcyhal_psoc6_01_116_bga_usb -lcyhal_psoc6_01_124_bga -lcyhal_psoc6_01_124_bga_sip -lcyhal_psoc6_01_43_smt -lcyhal_psoc6_01_68_qfn_ble -lcyhal_psoc6_01_80_wlcsp -lcyhal_psoc6_02_100_wlcsp -lcyhal_psoc6_02_124_bga -lcyhal_psoc6_02_128_tqfp -lcyhal_psoc6_02_68_qfn -lcyhal_psoc6_03_100_tqfp -lcyhal_psoc6_03_49_wlcsp -lcyhal_psoc6_03_68_qfn -lcyhal_psoc6_04_64_tqfp -lcyhal_psoc6_04_68_qfn -lcyhal_psoc6_04_80_tqfp -lcyhal_triggers_psoc6_01 -lcyhal_triggers_psoc6_02 -lcyhal_triggers_psoc6_03 -lcyhal_triggers_psoc6_04 -lcyhal_adc_mic -lcyhal_adc_sar -lcyhal_analog_common -lcyhal_audio_common -lcyhal_clock -lcyhal_comp -lcyhal_comp_ctb -lcyhal_comp_lp -lcyhal_crc -lcyhal_crypto_common -lcyhal_dac -lcyhal_dma -lcyhal_dma_dmac -lcyhal_dma_dw -lcyhal_ezi2c -lcyhal_flash -lcyhal_gpio -lcyhal_hwmgr -lcyhal_i2c -lcyhal_i2s -lcyhal_interconnect -lcyhal_ipc -lcyhal_irq_impl -lcyhal_keyscan -lcyhal_lptimer -lcyhal_opamp -lcyhal_pdmpcm -lcyhal_pwm -lcyhal_qspi -lcyhal_quaddec -lcyhal_rtc -lcyhal_scb_common -lcyhal_sdhc -lcyhal_spi -lcyhal_syspm -lcyhal_system -lcyhal_tcpwm_common -lcyhal_tdm -lcyhal_timer -lcyhal_trng -lcyhal_uart -lcyhal_udb_sdio -lcyhal_usb_dev -lcyhal_utils -lcyhal_utils_impl -lcyhal_wdt -lcy_device -lcy_syslib_gcc -lcy_adcmic -lcy_ble_clk -lcy_btss -lcy_canfd -lcy_crypto -lcy_crypto_core_aes_v1 -lcy_crypto_core_aes_v2 -lcy_crypto_core_cmac_v1 -lcy_crypto_core_cmac_v2 -lcy_crypto_core_crc_v1 -lcy_crypto_core_crc_v2 -lcy_crypto_core_des_v1 -lcy_crypto_core_des_v2 -lcy_crypto_core_ecc_domain_params -lcy_crypto_core_ecc_ecdsa -lcy_crypto_core_ecc_key_gen -lcy_crypto_core_ecc_nist_p -lcy_crypto_core_hmac_v1 -lcy_crypto_core_hmac_v2 -lcy_crypto_core_hw -lcy_crypto_core_hw_v1 -lcy_crypto_core_mem_v1 -lcy_crypto_core_mem_v2 -lcy_crypto_core_prng_v1 -lcy_crypto_core_prng_v2 -lcy_crypto_core_rsa -lcy_crypto_core_sha_v1 -lcy_crypto_core_sha_v2 -lcy_crypto_core_trng_v1 -lcy_crypto_core_trng_v2 -lcy_crypto_core_vu -lcy_crypto_server -lcy_cryptolite -lcy_csd -lcy_ctb -lcy_ctdac -lcy_dma -lcy_dmac -lcy_efuse -lcy_efuse_v3 -lcy_flash -lcy_gpio -lcy_i2s -lcy_ipc_bt -lcy_ipc_drv -lcy_ipc_pipe -lcy_ipc_sema -lcy_keyscan -lcy_lin -lcy_lpcomp -lcy_lvd -lcy_mcwdt -lcy_pd_pdcm -lcy_pd_ppu -lcy_pdm_pcm -lcy_pdm_pcm_v2 -lcy_pra -lcy_pra_cfg -lcy_profile -lcy_prot -lcy_rtc -lcy_sar -lcy_scb_common -lcy_scb_ezi2c -lcy_scb_i2c -lcy_scb_spi -lcy_scb_uart -lcy_sd_host -lcy_seglcd -lcy_smartio -lcy_smif -lcy_smif_memslot -lcy_smif_sfdp -lcy_sysanalog -lcy_sysclk -lcy_sysclk_v2 -lcy_sysint -lcy_sysint_v2 -lcy_syslib -lcy_syspm -lcy_syspm_v2 -lcy_systick -lcy_systick_v2 -lcy_tcpwm_counter -lcy_tcpwm_pwm -lcy_tcpwm_quaddec -lcy_tcpwm_shiftreg -lcy_tdm -lcy_trigmux -lcy_usbfs_dev_drv -lcy_usbfs_dev_drv_io -lcy_usbfs_dev_drv_io_dma -lcy_wdt -lppu_v1 -lcy_m0p_image -o amcuapp.elf
/opt/ModusToolbox/tools_3.0/gcc/bin/arm-none-eabi-strip -s amcuapp.elf
/opt/ModusToolbox/tools_3.0/gcc/bin/arm-none-eabi-objcopy -O ihex amcuapp.elf amcuapp.hex
/opt/ModusToolbox/tools_3.0/gcc/bin/arm-none-eabi-objcopy -I ihex -O binary -R .sec12 amcuapp.hex amcuappA.bin
truncate -s 16640 amcuappA.bin
split -a 1 -d -b 16384 amcuappA.bin amcuappA.bin_
truncate -s 16000 amcuappA.bin_0
echo "1.2.12.0" > version_nums.txt
truncate -s 64 version_nums.txt
cat amcuappA.bin_0 version_nums.txt > amcuappA.bin_ver_0
sha256sum amcuappA.bin_ver_0 > amcuappA.sha256
truncate -s 64 amcuappA.sha256
cat amcuappA.bin_ver_0 amcuappA.sha256 > amcuappA.bin_ver_sha_0
openssl pkeyutl -sign -in amcuappA.bin_ver_sha_0 -rawin -out amcuappA_digisign.bin -inkey /home/sgupta/amcutst/amcu/rsakeys/amcu_private_key.pem
cat amcuappA.bin_ver_sha_0  amcuappA_digisign.bin amcuappA.bin_1 > amcuappA.bin